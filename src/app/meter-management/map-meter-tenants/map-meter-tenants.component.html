
<div class="row btn-page">
    <div class="col-sm-12" >
        <app-card [hidHeader]="true" style="background-color: #ff4500 !important;">
    <div class="row" >
        <div class="col-4"> 
          <select  class="form-control">
            <option value="" selected>Meter Serial Number(Only Unassigned)</option>
            <option value="13543543" >13543543</option>
            <option value="135435434" >135435434</option>
            <option value="13543434533" >13543434533</option>
          </select>
        </div>
        <div class="col-2" style="margin-top: 18px;">
            <input type="checkbox" name="vehicle1" value="Bike"> IS a Tenant<br>
        </div>
        <div class="col-4">
            <select class="form-control">
              <option value="" selected>Common/Chiller</option>
              <option value="13543543" >13543543</option>
              <option value="135435434" >135435434</option>
              <option value="13543434533" >13543434533</option>
            </select>
        </div>
        <div class="col-2">
            <button class="btn btn-secondary" type="reset" >Map Meter</button>
        </div>
      </div>
    </app-card>
    </div>
  <div class="col-sm-12">
    <app-card [hidHeader]="true">
      <ngb-tabset activeId="UserlistId" (tabChange)="beforeChange($event)" #myTabSet="ngbTabset">
        <ngb-tab title="Map Meters List" id="UserlistId">
          <ng-template ngbTabContent>
            <table datatable id="report-table" [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
              class="table table-bordered table-striped mb-0">
              <thead>
                <tr>
                  <th>#</th>
                  <th>dept Meter Number</th>
                  <th>meter Number</th>
                  <th>meter Type</th>
                  <th>gateway Name</th>
                  <th>block</th>
                  <th>Floor</th>
                  <th>Tenants</th>
                  <th>contactNumber</th>
                  <!-- <th>started</th> -->
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of mapmetersList;let i = index;">
                  <td>{{i+1}}</td>
                  <td>{{item?.deptMeterNumberID?.deptMeterNumber}}</td>
                  <td>{{item?.meterSerialNumberID?.meterSerialNumber}}</td>
                  <td>{{item?.meterType}}</td>
                  <td>{{item?.gatewayName}}</td>
                  <td>{{item?.block}}</td>
                  <td>{{item?.floorID?.floor}}</td>
                  <td>{{item?.tenantID?.tenantName}}</td>
                  <td>{{item?.contactNumber}}</td>
                  <!-- <td>{{item?.started}}</td> -->
                  <td class="align-middle">
                    <span *ngIf="item?.active" class="badge badge-success">Active</span>
                    <span *ngIf="!item?.active" class="badge badge-danger">In-Active</span>
                  </td>
                  <td class="table-action">
                    <span (click)="myTabSet.select('AdduserId')"><a href="javascript:"
                        class="btn btn-icon btn-outline-success" (click)="userModal('Edit', item)"><i
                          class="feather icon-edit"></i></a></span>
                    <a href="javascript:" class="btn btn-icon btn-outline-danger" (click)="confirmAlert(item._id)"><i
                        class="feather icon-trash-2"></i></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </ng-template>
        </ngb-tab>
        <ngb-tab title={{tabHeader}} id="AdduserId">
          <ng-template ngbTabContent>
            <div class="card m-3">
              <h5 class="card-header">{{formHeader}}</h5>
              <div class="card-body">
                <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
                  <div class="form-row">
                    <div class="form-group col">
                      <label>Dept Meter Number</label>
                      <select formControlName="deptMeterNumberID" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.deptMeterNumberID.errors }">
                        <option value="">Select Dept Meter Number</option>
                        <option value="{{item._id}}" *ngFor="let item of deptMeters">{{item.deptMeterNumber}}</option>
                      </select>
                      <!-- <input type="text" formControlName="deptMeterNumberID" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.deptMeterNumberID.errors }" /> -->
                      <div *ngIf="submitted && f.deptMeterNumberID.errors" class="invalid-feedback">
                        <div *ngIf="f.deptMeterNumberID.errors.required">dept Meter Number is required</div>
                      </div>
                    </div>

                    <div class="form-group col">
                      <label>Meter Serial Number</label>
                      <select formControlName="meterSerialNumberID" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.meterSerialNumberID.errors }">
                        <option value="">Select Meter Serial Number</option>
                        <option value="{{item._id}}" *ngFor="let item of metersList">{{item.meterSerialNumber}}</option>
                      </select>
                      <!-- <input type="text" formControlName="meterSerialNumberID" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.meterSerialNumberID.errors }" /> -->
                      <div *ngIf="submitted && f.meterSerialNumberID.errors" class="invalid-feedback">
                        <div *ngIf="f.meterSerialNumberID.errors.required">Meter Serial Number is required</div>
                      </div>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group col">
                      <label>Meter Type</label>
                      <input type="text" formControlName="meterType" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.meterType.errors }" />
                      <div *ngIf="submitted && f.meterType.errors" class="invalid-feedback">
                        <div *ngIf="f.meterType.errors.required">meterType is required</div>
                        <div *ngIf="f.meterType.errors.minlength">meterType must be at least 6 characters</div>
                      </div>
                    </div>
                    <div class="form-group col">
                      <label>Gateway</label>
                      <input type="text" formControlName="gatewayName" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.gatewayName.errors }" />
                      <div *ngIf="submitted && f.gatewayName.errors" class="invalid-feedback">
                        <div *ngIf="f.gatewayName.errors.required">gatewayName is required</div>
                        <div *ngIf="f.gatewayName.errors.minlength">gatewayName must be at least 6 characters</div>
                      </div>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group col">
                      <label>block</label>
                      <input type="text" formControlName="block" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.block.errors }" />
                      <div *ngIf="submitted && f.block.errors" class="invalid-feedback">
                        <div *ngIf="f.block.errors.required">block is required</div>
                        <div *ngIf="f.block.errors.minlength">block must be at least 6 characters</div>
                      </div>
                    </div>
                    <div class="form-group col">
                      <label>Floor</label>
                      <select formControlName="floorID" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.floorID.errors }">
                        <option value="">Select Dept Meter Number</option>
                        <option value="{{item._id}}" *ngFor="let item of FloorList">{{item.floor}}</option>
                      </select>
                      <!-- <input type="text" formControlName="floorID" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.floorID.errors }" /> -->
                      <div *ngIf="submitted && f.floorID.errors" class="invalid-feedback">
                        <div *ngIf="f.floorID.errors.required">Floor is required</div>
                      </div>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group col">
                      <label>Tenant</label>
                      <select formControlName="tenantID" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.tenantID.errors }">
                        <option value="">Select Dept Meter Number</option>
                        <option value="{{item._id}}" *ngFor="let item of TenantsList">{{item.tenantName}}</option>
                      </select>
                      <!-- <input type="text" formControlName="tenantID" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.tenantID.errors }" /> -->
                      <div *ngIf="submitted && f.tenantID.errors" class="invalid-feedback">
                        <div *ngIf="f.tenantID.errors.required">Tenant is required</div>
                      </div>
                    </div>
                    <div class="form-group col">
                      <label>contactNumber</label>
                      <input type="number" formControlName="contactNumber" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.contactNumber.errors }" />
                      <div *ngIf="submitted && f.contactNumber.errors" class="invalid-feedback">
                        <div *ngIf="f.contactNumber.errors.required">contactNumber is required</div>
                      </div>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group col">
                      <label>started</label>
                      <input type="text" formControlName="started" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.started.errors }" />
                      <div *ngIf="submitted && f.started.errors" class="invalid-feedback">
                        <div *ngIf="f.started.errors.required">started is required</div>
                        <div *ngIf="f.started.errors.minlength">started must be at least 6
                          characters</div>
                      </div>
                    </div>
                    <!-- <div class="form-group col">
                      <label>Comments</label>
                      <input type="text" formControlName="comments" class="form-control"
                        [ngClass]="{ 'is-invalid': submitted && f.comments.errors }" />
                      <div *ngIf="submitted && f.comments.errors" class="invalid-feedback">
                        <div *ngIf="f.comments.errors.required">comments is required</div>
                      </div>
                    </div> -->
                  </div>
                  <div class="text-center">
                    <button class="btn btn-primary mr-1">{{buttonType}}</button>
                    <button class="btn btn-secondary" type="reset" (click)="onReset()">Cancel</button>
                  </div>
                </form>
              </div>
            </div>

          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </app-card>
  </div>
</div>
<style>
    * {box-sizing: border-box;}
    
    body { 
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
    }
    
    .header {
      overflow: hidden;
      background-color: #f1f1f1;
      padding: 20px 10px;
    }
    
    .header a {
      float: left;
      color: black;
      text-align: center;
      padding: 12px;
      text-decoration: none;
      font-size: 18px; 
      line-height: 25px;
      border-radius: 4px;
    }
    
    .header a.logo {
      font-size: 25px;
      font-weight: bold;
    }
    
    .header a:hover {
      background-color: #ddd;
      color: black;
    }
    
    .header a.active {
      background-color: dodgerblue;
      color: white;
    }
    
    .header-right {
      float: right;
    }
    
    @media screen and (max-width: 500px) {
      .header a {
        float: none;
        display: block;
        text-align: left;
      }
      
      .header-right {
        float: none;
      }
    }
    </style>