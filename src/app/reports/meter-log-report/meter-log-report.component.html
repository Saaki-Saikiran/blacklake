<app-card cardTitle="Meter Log Report" cardClass="card-datatable" [options]="false">


  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-sm-3">
        <h5 class="sub-title" style="margin-top: 15px;">Select Meter Date Range</h5>
      </div>
      <div class="col-sm-3" >
        <div class="horizontal-scroll">
          <div class="form-group">
            <div class="input-group">
              <input style="border: 1px solid #c1c1c1;padding: 16px;" class="form-control" autocomplete="off"
                placeholder="yyyy-mm-dd" formControlName="modelPopup" name="dp" [(ngModel)]="modelPopup" ngbDatepicker
                #d="ngbDatepicker" [ngClass]="{ 'is-invalid': submitted && f.modelPopup.errors }">
              <div class="input-group-append">
                <span class="input-group-text" (click)="d.toggle()">
                  <i class="fa fa-calendar"></i>
                </span>
              </div>
             
              <div *ngIf="submitted && f.modelPopup.errors" class="invalid-feedback">
                <div *ngIf="f.modelPopup.errors.required">From date is required</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-1" >
        <span class="input-group-text">
          TO
        </span>
      </div>
      <div class="col-sm-3" >
        <div class="form-group">
          <div class="input-group">
            <input style="border: 1px solid #c1c1c1;padding: 16px;" class="form-control" formControlName="modelPopupTo"
              autocomplete="off" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="modelPopupTo" ngbDatepicker
              #d1="ngbDatepicker" [ngClass]="{ 'is-invalid': submitted && f.modelPopupTo.errors }">
            <div class="input-group-append">
              <span class="input-group-text" (click)="d1.toggle()">
                <i class="fa fa-calendar"></i>
              </span>
            </div>
            <div *ngIf="submitted && f.modelPopupTo.errors" class="invalid-feedback">
              <div *ngIf="f.modelPopupTo.errors.required">To date is required</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-2" >
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3">
        <h5 class="sub-title" style="margin-top: 15px;">Select Meter No</h5>
      </div>
      <div class="col-sm-4" >
        <select formControlName="MeterType" class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.MeterType.errors }">
          <option value="">Select Meter Type</option>
          <option value="{{item._id}}" *ngFor="let item of metersTypeList">{{item.type}}</option>
        </select>
        <div *ngIf="submitted && f.MeterType.errors" class="invalid-feedback">
          <div *ngIf="f.MeterType.errors.required">Meter No is required</div>
        </div>
      </div>
      <div class="col-sm-3">
        <div>
          <button class="btn btn-primary mr-1">Get Report</button>
        </div>
      </div>
    </div>
    <!-- <div class="row" class="text-center" style="padding: 20px;">
        <div>
            <button class="btn btn-primary mr-1" >Get Report</button>
        </div>
    </div> -->
  </form>
  <br />
  <hr *ngIf="ConsumptionArray!=''"/>
  <table id="example" class="display" style="width:100%" *ngIf="ConsumptionArray!=''">
    <thead>
      <!-- <tr><td style="text-align: center;">iLabs Info Technology Center (Gurgaon) Pvt. Ltd <br/>
        Plot No 404-05, Udyog Vihar Ph 3 ,  <br/>
        Gurgaon 122016 <br/>
        Phone : 0124 4368945 <br/></td></tr> -->
      <tr>

        <th>Block</th>
        <th>Tenant Name</th>
        <th>Floor</th>
        <th>Meter Serial No</th>
        <th>Model</th>
        <th>Time Stamp</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of ConsumptionArray">
        <td>{{item.block}}</td>
        <td>{{item.tenantName}}</td>
        <td>{{item.floor}}</td>
        <td>{{item.meterType}}</td>
        <td>{{item.model}}</td>
        <td>{{item.timestamp  | date: 'medium'}}</td>
        <td>{{item.value}}</td>
      </tr>

    </tbody>
  </table>
  <!-- <div class="table-responsive" >
          <table datatable [dtOptions]="dtExportButtonOptions" class="table table-striped table-bordered table-hover">
          </table>
        </div> -->
</app-card>

<style>
  #example {
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  #example td,
  #example th {
    border: 1px solid #ddd;
    padding: 8px;
  }

  #example tr:nth-child(even) {
    background-color: #f2f2f2;
  }

  #example tr:hover {
    background-color: #ddd;
  }

  #example th {
    padding-top: 12px;
    padding-bottom: 12px;
    text-align: left;
    background-color: #4680ff;
    color: white;
  }
</style>